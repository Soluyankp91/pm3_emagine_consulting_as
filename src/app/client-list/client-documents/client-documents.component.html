<div class="client-documents">
    <mat-tab-group class="client-documents--tabs">
        <mat-tab label="Important docs">
            Important docs
        </mat-tab>
        <mat-tab label="General docs">
            General docs
        </mat-tab>
        <mat-tab label="Evals">
            <div fxLayout="column" fxLayoutAlign="start center" class="client-list--table u-w--100">
                <div fxLayout="column" fxFlexFill>
                    <mat-table #table [dataSource]="evalsDocumentsDataSource" class="rounded-table u-w--100" matSort matSortStart="asc" (matSortChange)="sortChanged($event)">
                        <ng-container matColumnDef="local">
                            <mat-header-cell *matHeaderCellDef fxFlex="15%"> Local </mat-header-cell>
                            <mat-cell *matCellDef="let row" fxFlex="15%">
                                <span class="text-truncate-ellipsis" [matTooltip]="row.headline">
                                    {{row.headline}}
                                </span>
                            </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="english">
                            <mat-header-cell *matHeaderCellDef fxFlex="15%"> English </mat-header-cell>
                            <mat-cell *matCellDef="let row" fxFlex="15%">
                                <span class="text-truncate-ellipsis" [matTooltip]="row?.status?.name">
                                    {{row?.status?.name}}
                                </span>
                            </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="averageScore">
                            <mat-header-cell *matHeaderCellDef fxFlex="10%"> Average score </mat-header-cell>
                            <mat-cell *matCellDef="let row" fxFlex="10%">
                                <span class="text-truncate-ellipsis" [matTooltip]="row.clientDeadline">
                                    {{row.clientDeadline}}
                                </span>
                            </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="consultantName">
                            <mat-header-cell *matHeaderCellDef fxFlex="20%"> Consultant name </mat-header-cell>
                            <mat-cell *matCellDef="let row" fxFlex="20%">
                                <span class="text-truncate-ellipsis" [matTooltip]="row?.dateAdded">
                                    {{row?.dateAdded}}
                                </span>
                            </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="evaluator">
                            <mat-header-cell *matHeaderCellDef fxFlex="20%"> Evaluator </mat-header-cell>
                            <mat-cell *matCellDef="let row" fxFlex="20%">
                                <span class="text-truncate-ellipsis" [matTooltip]="row?.projectType?.name">
                                    {{row?.projectType?.name}}
                                </span>
                            </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="evaluationDate">
                            <mat-header-cell *matHeaderCellDef fxFlex="20%"> Date of evaluation </mat-header-cell>
                            <mat-cell *matCellDef="let row" fxFlex="20%">
                                <span class="text-truncate-ellipsis" [matTooltip]="row.priority">
                                    {{row.priority}}
                                </span>
                            </mat-cell>
                        </ng-container>

                        <mat-header-row *matHeaderRowDef="evalsDocsDisplayColumns"></mat-header-row>
                        <mat-row *matRowDef="let row; columns: evalsDocsDisplayColumns;" class="mat-elevation-z0"></mat-row>
                    </mat-table>
                    <div class="spinner-container" *ngIf="isDataLoading">
                        <mat-spinner [diameter]="50"></mat-spinner>
                    </div>
                    <div class="results-not-found" *ngIf="totalCount === 0 && !isDataLoading">
                        RESULTS NOT FOUND
                    </div>
                </div>
                <div class="pagination-contaier">
                    <mat-paginator #clientsPaginator [length]="totalCount" [pageSize]="deafultPageSize"
                        [pageSizeOptions]="pageSizeOptions" [showFirstLastButtons]="true" (page)="pageChanged($event)">
                    </mat-paginator>
                </div>
            </div>
        </mat-tab>
        <mat-tab label="Contracts">
            <div class="client-documents--contract">
                <div fxLayout="row" fxLayoutAlign="space-between center" class="u-w--100 client-documents--contract-filter">
                    <div fxFlex="20%">
                        <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding greenFilterInput client-documents--contract-filter__input mat-elevation-z0">
                            <mat-label>Search</mat-label>
                            <input autocomplete="off" matInput [formControl]="clientFilter" placeholder="Search" type="text">
                            <mat-icon matSuffix>search</mat-icon>
                        </mat-form-field>
                    </div>

                    <div fxFlex="20%">
                        <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding client-documents--contract-filter__select">
                            <mat-label>Account manager</mat-label>
                            <mat-select [formControl]="dataFilter" placeholder="Account manager">
                                <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                    {{ item }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>
                <div fxLayout="column" fxLayoutAlign="center center" class="u-mt--20">
                    <!-- <mat-accordion class="client-documents--contract-folders u-w--100 mat-elevation-z0" [multi]="true">
                        <mat-expansion-panel *ngFor="let folder of contractFolders" class="mat-elevation-z0">
                            <mat-expansion-panel-header>
                                {{ folder.title }}
                            </mat-expansion-panel-header>
                            <ng-container *ngIf="folder.subAccordion">
                                <mat-accordion class="client-documents--contract-folders__subfolder mat-elevation-z0" [multi]="true">
                                  <mat-expansion-panel *ngFor="let subpanel of folder.subAccordion" class="mat-elevation-z0">
                                    <mat-expansion-panel-header>
                                      <mat-panel-title>{{ subpanel.title }}</mat-panel-title>
                                    </mat-expansion-panel-header>
                                    <p>{{ subpanel.content }}</p>
                                  </mat-expansion-panel>
                                </mat-accordion>
                              </ng-container>
                        </mat-expansion-panel>
                    </mat-accordion> -->

                    <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="example-tree">
                        <!-- This is the tree node template for leaf nodes -->
                        <!-- There is inline padding applied to this node using styles.
                                              This padding value depends on the mat-icon-button width. -->
                        <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
                            {{node.name}}
                        </mat-tree-node>
                        <!-- This is the tree node template for expandable nodes -->
                        <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
                            <div class="mat-tree-node">
                                <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.name">
                                    <mat-icon class="mat-icon-rtl-mirror">
                                        {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                                    </mat-icon>
                                </button>
                                {{node.name}}
                            </div>
                            <!-- There is inline padding applied to this div using styles.
                                                    This padding value depends on the mat-icon-button width.  -->
                            <div [class.example-tree-invisible]="!treeControl.isExpanded(node)" role="group">
                                <ng-container matTreeNodeOutlet></ng-container>
                            </div>
                        </mat-nested-tree-node>
                    </mat-tree>
                </div>
            </div>
        </mat-tab>
    </mat-tab-group>
</div>
