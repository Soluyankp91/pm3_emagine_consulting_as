<div class="main-overview" fxFlexFill>
    <div fxLayout="column" fxLayoutAlign="start start" class="main-overview--filter">
        <h2 class="main-overview--header">Overview</h2>
        <div fxLayout="row" fxLayoutAlign="space-between center" class="u-w--100">
            <div fxFlex fxLayout="row" fxLayoutAlign="start center" class="u-w--100">
                <span class="main-overview--filter-manager u-mr--16">
                    <img src="../../../assets/common/images/no-img.svg">
                </span>
                <div class="main-overview--filter-type" *ngFor="let type of selectedTypes">
                    <mat-icon class="workflow-flag" [ngClass]="getFlagColor(type.flag)"
                        [matTooltip]="mapFlagTooltip(type.flag)">fiber_manual_record</mat-icon>
                    <span class="main-overview--filter-type__name">
                        {{type.name}}
                    </span>
                </div>
            </div>
            <div fxFlex="25%" fxLayout="column" fxLayoutAlign="start end">
                <div fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="16px" class="u-w--100 u-mb--20">
                    <button mat-icon-button>
                        <mat-icon svgIcon="filter-icon"></mat-icon>
                    </button>
                    <mat-form-field appearance="outline" class="u-w--100 mat-elevation-z0 formFieldNoMarginPadding">
                        <mat-label>Search</mat-label>
                        <input autocomplete="off" matInput [formControl]="workflowFilter" placeholder="Search"
                            type="text">
                        <mat-icon matSuffix>search</mat-icon>
                    </mat-form-field>
                </div>
            </div>
        </div>
    </div>
    <div fxLayout="column" fxLayoutAlign="start start" class="main-overview--content">
        <!-- <div fxLayout="column" fxLayoutAlign="start start" fxFlex="50%"
            class="main-overview--consultants-table u-w--100">
            <mat-table #table [dataSource]="clientsDataSource" class="white-table u-w--100" matSort matSortStart="asc"
                (matSortChange)="sortChanged($event)">
                <ng-container matColumnDef="process">
                    <mat-header-cell *matHeaderCellDef mat-sort-header fxFlex="10%"></mat-header-cell>
                    <mat-cell *matCellDef="let row" fxFlex="10%">
                        <mat-icon [ngClass]="detectStatusColor(row?.status?.value)">fiber_manual_record</mat-icon>
                        <span class="text-truncate-ellipsis" [matTooltip]="row?.status?.name">
                        </span>
                    </mat-cell>
                </ng-container>
                <ng-container matColumnDef="client">
                    <mat-header-cell *matHeaderCellDef mat-sort-header fxFlex="40%"> Client </mat-header-cell>
                    <mat-cell *matCellDef="let row" fxFlex="40%">
                        <span class="text-truncate-ellipsis text-bold" [matTooltip]="row?.client">
                            {{row?.client}}
                        </span>
                    </mat-cell>
                </ng-container>
                <ng-container matColumnDef="consultants">
                    <mat-header-cell *matHeaderCellDef mat-sort-header fxFlex="35%"> Consultants </mat-header-cell>
                    <mat-cell *matCellDef="let row" fxFlex="35%">
                        <span class="text-truncate-ellipsis" [matTooltip]="row?.firstName + ' ' + row?.lastName">
                            {{row?.firstName + ' ' + row?.lastName}}
                        </span>
                    </mat-cell>
                </ng-container>
                <ng-container matColumnDef="salesManager">
                    <mat-header-cell *matHeaderCellDef mat-sort-header fxFlex="12%"> Sales manager </mat-header-cell>
                    <mat-cell *matCellDef="let row" fxFlex="12%">
                        <span class="text-truncate-ellipsis" [matTooltip]="row?.salesManager">
                            <img class="manager-search--photo" src="../../../../assets/common/images/no-img.svg"
                                [alt]="row?.salesManager" />
                        </span>
                    </mat-cell>
                </ng-container>
                <ng-container matColumnDef="action">
                    <mat-header-cell *matHeaderCellDef mat-sort-header fxFlex="3%"></mat-header-cell>
                    <mat-cell *matCellDef="let row" fxFlex="3%">
                        <button mat-icon-button matTooltip="Go to workflow">
                            <mat-icon class="icon-arrow-rotate180" svgIcon="arrow"></mat-icon>
                        </button>
                    </mat-cell>
                </ng-container>
                <mat-header-row *matHeaderRowDef="clientDisplayColumns"></mat-header-row>
                <mat-row *matRowDef="let row; columns: clientDisplayColumns;" class="mat-elevation-z0"></mat-row>
            </mat-table>
            <div class="spinner-container" *ngIf="isDataLoading">
                <mat-spinner [diameter]="50"></mat-spinner>
            </div>
            <div class="results-not-found" *ngIf="totalCount === 0 && !isDataLoading">
                RESULTS NOT FOUND
            </div>
            <div class="pagination-contaier">
                <mat-paginator #clientsPaginator [length]="totalCount" [pageSize]="deafultPageSize"
                    [pageSizeOptions]="pageSizeOptions" [showFirstLastButtons]="true" (page)="pageChanged($event)">
                </mat-paginator>
            </div>
        </div> -->
        <div fxLayout="column" fxLayoutAlign="start center" class="gant-chart-container">
            <mat-select placeholder="Placeholder" name="item" class="u-mt--20" style="max-width: 100px;">
                <mat-option *ngFor="let view of views" [class.active]="view.value === viewType"
                    (click)="viewType = view.value" [value]="view.value">
                    {{view.name}}
                </mat-option>
            </mat-select>
            <div class="gant-chart-container-wrapper">
                <ngx-gantt #gantt [items]="items" [viewOptions]="viewOptions" [viewType]="viewType">
                    <ngx-gantt-table>
                        <ngx-gantt-column name="" width="30px">
                            <ng-template #cell let-item="item">
                                <span class="text-bold">
                                    <!-- {{ item.title }} -->
                                    <div fxLayout="row" fxLayoutAlign="start center" class="u-w-100">
                                        <mat-icon [ngClass]="detectStatusColor(item?.status?.value)">fiber_manual_record</mat-icon>
                                    </div>
                                </span>
                            </ng-template>
                        </ngx-gantt-column>
                        <ngx-gantt-column name="Client" width="300px">
                            <ng-template #cell let-item="item">
                                <span class="text-bold">
                                    {{ item.title }}
                                </span>
                            </ng-template>
                        </ngx-gantt-column>
                        <ngx-gantt-column name="Consultants" width="250px">
                            <ng-template #cell let-item="item"> {{ item.start*1000 | date: 'dd-MM-yyyy' }} </ng-template>
                        </ngx-gantt-column>
                        <ngx-gantt-column name="SalesManager" width="100px">
                            <ng-template #cell let-item="item">
                                 <!-- {{ item.end*1000 | date: 'dd-MM-yyyy' }} -->
                                 <div fxLayout="row" fxLayoutAlign="flex-end center" fxLayoutGap="15px" class="u-w-100">
                                     <img class="manager-search--photo" src="../../../../assets/common/images/no-img.svg"/>
                                     <button mat-icon-button matTooltip="Go to workflow">
                                        <mat-icon class="icon-arrow-rotate180" svgIcon="arrow"></mat-icon>
                                    </button>
                                 </div>
                                </ng-template>
                        </ngx-gantt-column>
                    </ngx-gantt-table>
                </ngx-gantt>
            </div>
        </div>
    </div>
</div>
