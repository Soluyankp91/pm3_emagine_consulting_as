<div class="workflow">
    <div fxLayout="row" fxLayoutAlign="start start">
        <div fxFlex="20%" class="workflow-sidebar--container" fxLayout="column" fxLayoutAlign="start start">
            <div class="workflow-sidebar">
                <div class="workflow-sidebar--stepper">
                    <ng-scrollbar #scrollable>
                        <div class="workflow-sidebar--content">
                            <mat-vertical-stepper class="workflow-sidebar--stepper" (selectionChange)="selectionChange($event)">
                                <ng-template matStepperIcon="edit">
                                    <mat-icon>done</mat-icon>
                                </ng-template>
                                <mat-step *ngFor="let step of workflowNavigation; let i = index" label="{{step.displayName}}" [completed]="step.finished" [state]="step.state" [attr.aria-label]="step.name">
                                    <mat-list *ngIf="step.name === 'Sales'">
                                        <mat-list-item [ngxScrollTo]="'mainData'">Main data</mat-list-item>
                                        <mat-list-item [ngxScrollTo]="'clientData'">Client data</mat-list-item>
                                        <mat-list-item [ngxScrollTo]="'consultantData'">Consultant data</mat-list-item>
                                        <mat-list-item [ngxScrollTo]="'additionalData'">Additional data</mat-list-item>
                                    </mat-list>

                                    <mat-list *ngIf="step.name === 'Contracts'">
                                        <mat-list-item [ngxScrollTo]="'contractsSummary'">Summary</mat-list-item>
                                        <mat-list-item [ngxScrollTo]="'clientContractTemplate'">Client Contract Template</mat-list-item>
                                        <mat-list-item [ngxScrollTo]="'consultantContractTemplate'">Consultant Contract Template</mat-list-item>
                                    </mat-list>
                                </mat-step>
                            </mat-vertical-stepper>
                        </div>
                    </ng-scrollbar>
                </div>
                <div fxLayout="column" fxLayoutAlign="start start" class="workflow-sidebar--actions u-pl--24 u-pr--24 u-w--100 u-mt--10 u-mb--10">
                    <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                        <button mat-raised-button class="mat-elevation-z0 u-mr--16 button-outlined" fxFlex="50%">Cancel</button>
                        <button mat-raised-button color="primary" class="mat-elevation-z0 button-accept" fxFlex="50%">Save</button>
                    </div>
                    <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100">
                        <button mat-raised-button color="primary" class="mat-elevation-z0 button-accept" fxFlex="100%" (click)="done()">Done</button>
                    </div>
                </div>
            </div>
        </div>
        <div fxFlex="80%" fxLayout="column" fxLayoutAlign="start start">
            <ng-container *ngIf="selectedStep === 'Sales'">
                <div class="u-mb--20 u-w--100 workflow-form--panel">
                    <mat-accordion [multi]="true">
                        <mat-expansion-panel id="mainData">
                            <mat-expansion-panel-header>
                                MAIN DATA
                            </mat-expansion-panel-header>
                            <form [formGroup]="salesMainDataForm" class="workflow-form--main u-w--100">
                                <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="33%">
                                        <mat-label>Sales type</mat-label>
                                        <mat-select formControlName="salesType" placeholder="Sales type">
                                            <mat-option *ngFor="let item of saleTypes" [value]="item.id">
                                                {{ item.name }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="33%">
                                        <mat-label>Nearshore/Offshore</mat-label>
                                        <mat-select formControlName="nearshoreOffshore" placeholder="Nearshore/Offshore">
                                            <mat-option *ngFor="let item of deliveryTypes" [value]="item.id">
                                                {{ item.name }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                    <div fxFLex="33%" fxLayout="row" fxLayoutAlign="start start" class="u-w--100">
                                        <button mat-raised-button class="u-mr--16 u-w--100 workflow-company--btn" fxFlex="50%" (click)="intracompanyActive = true" [ngClass]="{'active-btn': intracompanyActive}">
                                            <mat-icon svgIcon="workflow-intracompany" class="u-mr--16"></mat-icon>
                                            Intracompany
                                        </button>
                                        <button mat-raised-button class="u-w--100 workflow-company--btn" fxFlex="50%"  (click)="intracompanyActive = false" [ngClass]="{'active-btn': !intracompanyActive}">
                                            <mat-icon svgIcon="workflow-direct-company" class="u-mr--16"></mat-icon>
                                            Direct
                                        </button>
                                    </div>
                                </div>

                                <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="33%">
                                        <mat-label>Sales Account Manager</mat-label>
                                        <mat-select formControlName="salesAccountManager" placeholder="Sales Account Manager">
                                            <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                {{ item }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="33%">
                                        <mat-label>Commission Account Manager</mat-label>
                                        <mat-select formControlName="commissionAccountManager" placeholder="Commission Account Manager">
                                            <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                {{ item }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                    <mat-form-field *ngIf="intracompanyActive" appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select" fxFlex="33%">
                                        <mat-label>Intracompany Account Manager</mat-label>
                                        <mat-select formControlName="intracompanyAccountManager" placeholder="Intracompany Account Manager">
                                            <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                {{ item }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                    <div fxFlex="33%" *ngIf="!intracompanyActive"></div>
                                </div>
                                <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100 u-mb--20" *ngIf="intracompanyActive">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select" fxFlex="33%">
                                        <mat-label>PDC Intracompany Unit</mat-label>
                                        <mat-select formControlName="PDCIntracompanyUnit" placeholder="PDC Intracompany Unit">
                                            <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                {{ item }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </form>
                        </mat-expansion-panel>
                        <mat-expansion-panel id="clientData" [ngClass]="{'pointerEventsNone': !salesMainDataForm.valid}">
                            <mat-expansion-panel-header>
                                CLIENT DATA
                            </mat-expansion-panel-header>
                            <form [formGroup]="salesMainClientDataForm" class="workflow-form--sales u-w--100">
                                <h2>Direct Client</h2>
                                <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select" fxFlex="33%">
                                        <mat-label>Direct Client</mat-label>
                                        <mat-select formControlName="directClient" placeholder="Direct Client">
                                            <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                {{ item }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <h2>Client Invoicing Recipient</h2>
                                <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="33%">
                                        <mat-label>Client Invoicing Recipient</mat-label>
                                        <mat-select formControlName="clientInvoicingRecipient" placeholder="Client Invoicing Recipient">
                                            <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                {{ item }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-checkbox color="accent" formControlName="sameAsDirectClient" name="sameAsDirectClient" class="green-checkbox u-mr--10">
                                        Same as direct client
                                    </mat-checkbox>
                                </div>

                                <h2>Client Invoicing Reference Person</h2>
                                <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="33%">
                                        <mat-label>Invoicing Reference Person</mat-label>
                                        <mat-select formControlName="clientInvoicingReferencePerson" placeholder="Invoicing Reference Person">
                                            <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                {{ item }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-checkbox color="accent" formControlName="isClientInvoicingNone" name="isClientInvoicingNone" class="green-checkbox u-mr--10">
                                        None
                                    </mat-checkbox>
                                </div>

                                <h2>Client Evaluations - Consultant</h2>
                                <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="33%">
                                        <mat-label>Evaluation Reference Person</mat-label>
                                        <mat-select formControlName="evaluationReferencePerson" placeholder="Evaluation Reference Person">
                                            <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                {{ item }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-checkbox color="accent" formControlName="disableEvaluations" name="disableEvaluations" class="green-checkbox u-mr--10">
                                        Disable Evaluations
                                    </mat-checkbox>
                                </div>

                                <h2>Client Contract Signers</h2>
                                <div formArrayName="clientSigners" class="u-w--100 u-mb--20">
                                    <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--10" *ngFor="let signer of clientSigners.controls; let i = index" [formGroupName]="i">
                                        <mat-form-field appearance="outline" class="u-w--100 mat-elevation-z0 formFieldNoMarginPadding u-mr--16"  fxFlex="33%">
                                            <mat-label>Name</mat-label>
                                            <input autocomplete="off" matInput formControlName="clientName" placeholder="Name" type="text">
                                        </mat-form-field>

                                        <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="33%">
                                            <mat-label>Client Role</mat-label>
                                            <mat-select formControlName="clientRole" placeholder="Client Role">
                                                <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                    {{ item }}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>

                                        <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="20%">
                                            <mat-label>Client Sigvens</mat-label>
                                            <mat-select formControlName="clientSigvens" placeholder="Client Sigvens">
                                                <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                    {{ item }}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <button class="workflow-remove--btn" mat-icon-button (click)="removeSigner(i)"><mat-icon>delete</mat-icon></button>
                                    </div>
                                    <button color="primary" class="button-outlined mat-elevation-z0" mat-raised-button (click)="addSignerToForm()">
                                        Add signer
                                    </button>
                                </div>

                                <h2>Client Special Contract Terms</h2>
                                <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding u-mr--16" fxFlex="0 0 calc(66% + 15px)">
                                        <mat-label>Special Contract Terms</mat-label>
                                        <textarea matInput autocomplete="new-password" name="specialContractTerms" formControlName="specialContractTerms">
                                        </textarea>
                                    </mat-form-field>

                                    <mat-checkbox color="accent" formControlName="isSpecialContractTermsNone" name="isSpecialContractTermsNone" class="green-checkbox u-mt--10">
                                        None
                                    </mat-checkbox>
                                </div>

                                <h2>Invoicing Reference Number</h2>
                                <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 mat-elevation-z0 formFieldNoMarginPadding" fxFlex="33%">
                                        <mat-label>Invoicing Reference Number</mat-label>
                                        <input autocomplete="off" matInput formControlName="invoicingReferenceNumber" placeholder="Invoicing Reference Number" type="text">
                                    </mat-form-field>
                                </div>

                                <h2>Client Rate & Invoicing</h2>
                                <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select" fxFlex="33%">
                                        <mat-label>Client Rate & Invoicing</mat-label>
                                        <mat-select formControlName="clientRateAndInvoicing" placeholder="Client Rate & Invoicing">
                                            <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                {{ item }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <h2>Client Invoicing Period</h2>
                                <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select" fxFlex="33%">
                                        <mat-label>Client Invoicing Period</mat-label>
                                        <mat-select formControlName="clientInvoicingPeriod" placeholder="Client Invoicing Period">
                                            <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                {{ item }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <h2>Client Project Duration</h2>
                                <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="formFieldNoMarginPadding u-mr--16" fxFlex="33%">
                                        <mat-label>Start date</mat-label>
                                        <input autocomplete="off" placeholder="" matInput
                                                [matDatepicker]="clientProjectStartDatePicker"
                                                name="saleDate" formControlName="clientProjectStartDate"
                                                (focus)="clientProjectStartDatePicker.open()"
                                                (click)="clientProjectStartDatePicker.open()" readonly>
                                        <mat-icon class="calendar-icon" matSuffix svgIcon="calendar"></mat-icon>
                                        <mat-datepicker #clientProjectStartDatePicker></mat-datepicker>
                                    </mat-form-field>

                                    <mat-form-field appearance="outline" class="formFieldNoMarginPadding u-mr--16" fxFlex="33%">
                                        <mat-label>End date</mat-label>
                                        <input autocomplete="off" placeholder="" matInput
                                                [matDatepicker]="clientProjectEndDatePicker"
                                                name="saleDate" formControlName="clientProjectEndDate"
                                                (focus)="clientProjectEndDatePicker.open()"
                                                (click)="clientProjectEndDatePicker.open()" readonly>
                                        <mat-icon class="calendar-icon" matSuffix svgIcon="calendar"></mat-icon>
                                        <mat-datepicker #clientProjectEndDatePicker></mat-datepicker>
                                    </mat-form-field>

                                    <mat-checkbox color="accent" formControlName="clientProjectNoEndDate" name="clientProjectNoEndDate" class="green-checkbox">
                                        No end date
                                    </mat-checkbox>
                                </div>

                                <h2>Client Extension Option</h2>
                                <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="formFieldNoMarginPadding u-mr--16" fxFlex="33%">
                                        <mat-label>Option Duration</mat-label>
                                        <input autocomplete="off" placeholder="" matInput
                                                [matDatepicker]="clientExtensionStartDatePicker"
                                                name="saleDate" formControlName="clientExtensionStartDate"
                                                (focus)="clientExtensionStartDatePicker.open()"
                                                (click)="clientExtensionStartDatePicker.open()" readonly>
                                        <mat-icon class="calendar-icon" matSuffix svgIcon="calendar"></mat-icon>
                                        <mat-datepicker #clientExtensionStartDatePicker></mat-datepicker>
                                    </mat-form-field>

                                    <mat-form-field appearance="outline" class="formFieldNoMarginPadding u-mr--16" fxFlex="33%">
                                        <mat-label>Option Deadline</mat-label>
                                        <input autocomplete="off" placeholder="" matInput
                                                [matDatepicker]="clientExtensionEndDatePicker"
                                                name="saleDate" formControlName="clientExtensionEndDate"
                                                (focus)="clientExtensionEndDatePicker.open()"
                                                (click)="clientExtensionEndDatePicker.open()" readonly>
                                        <mat-icon class="calendar-icon" matSuffix svgIcon="calendar"></mat-icon>
                                        <mat-datepicker #clientExtensionEndDatePicker></mat-datepicker>
                                    </mat-form-field>

                                    <mat-checkbox color="accent" formControlName="clientExtensionNoEndDate" name="clientExtensionNoEndDate" class="green-checkbox">
                                        No end date
                                    </mat-checkbox>
                                </div>
                            </form>
                        </mat-expansion-panel>
                        <form [formGroup]="consultantsForm" class="workflow-form--consultants u-w--100" id="consultantData">
                            <ng-container formArrayName="consultantData">
                                <mat-expansion-panel *ngFor="let consultant of consultantsForm.consultantData.controls; let i = index" [formGroupName]="i">
                                    <mat-expansion-panel-header>
                                        <div fxLayout="row" fxLayoutAlign="start center">
                                            <span>
                                                CONSULTANT DATA
                                            </span>
                                            <button *ngIf="consultantsForm.consultantData?.controls?.length && consultantsForm.consultantData.controls.length > 1" mat-icon-button (click)="removeConsultant(i)"><mat-icon>delete</mat-icon></button>
                                        </div>
                                    </mat-expansion-panel-header>
                                    <div fxLayout="column" fxLayoutAlign="start start" class="u-w--100">
                                        <h2>Consultant</h2>
                                        <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                                            <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select" fxFlex="33%">
                                                <mat-label>Consultant Type</mat-label>
                                                <mat-select formControlName="consultantType" placeholder="Consultant Type">
                                                    <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                        {{ item }}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>

                                        <h2>Consultant Evaluations - ProData</h2>
                                        <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--20">
                                            <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="33%">
                                                <mat-label>Consultant Evaluations - ProData</mat-label>
                                                <mat-select formControlName="consultantEvaluationsProData" placeholder="Consultant Evaluations - ProData">
                                                    <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                        {{ item }}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>

                                            <mat-checkbox color="accent" formControlName="disableEvaluations" name="disableEvaluations" class="green-checkbox u-mr--10">
                                                Disable Evaluations
                                            </mat-checkbox>
                                        </div>

                                        <h2>Consultant Contract Signers</h2>
                                        <div formArrayName="consultantContractSigners" class="u-w--100 u-mb--20">
                                            <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--10" *ngFor="let signer of getConsultantContractSignersControls(i); let j = index" [formGroupName]="j">
                                                <mat-form-field appearance="outline" class="u-w--100 mat-elevation-z0 formFieldNoMarginPadding u-mr--16"  fxFlex="33%">
                                                    <mat-label>Name</mat-label>
                                                    <input autocomplete="off" matInput formControlName="clientName" placeholder="Name" type="text">
                                                </mat-form-field>

                                                <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="33%">
                                                    <mat-label>Client Role</mat-label>
                                                    <mat-select formControlName="clientRole" placeholder="Client Role">
                                                        <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                            {{ item }}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>

                                                <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="20%">
                                                    <mat-label>Client Sigvens</mat-label>
                                                    <mat-select formControlName="clientSigvens" placeholder="Client Sigvens">
                                                        <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                            {{ item }}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                                <button class="workflow-remove--btn" mat-icon-button (click)="removeConsultantSigner(i, j)"><mat-icon>delete</mat-icon></button>
                                            </div>
                                            <button color="primary" class="button-outlined mat-elevation-z0" mat-raised-button (click)="addConsultantSigner(i)">
                                                Add signer
                                            </button>
                                        </div>

                                        <h2>Consultant Special Contract Terms</h2>
                                        <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--20">
                                            <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding u-mr--16" fxFlex="100%">
                                                <mat-label>Consultant Special Contract Terms</mat-label>
                                                <textarea matInput autocomplete="new-password" name="consultantSpecialContractTerms" formControlName="consultantSpecialContractTerms">
                                                </textarea>
                                            </mat-form-field>
                                        </div>

                                        <h2>Consultant Rate</h2>
                                        <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--20">
                                            <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select" fxFlex="33%">
                                                <mat-label>Consultant Rate</mat-label>
                                                <mat-select formControlName="consultantRate" placeholder="Consultant Rate">
                                                    <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                        {{ item }}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>

                                        <h2>Consultant Project Duration</h2>
                                        <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--20">
                                            <mat-form-field appearance="outline" class="formFieldNoMarginPadding u-mr--16" fxFlex="33%">
                                                <mat-label>Start date</mat-label>
                                                <input autocomplete="off" placeholder="Start date" matInput
                                                        [matDatepicker]="consultantProjectStartDatePicker"
                                                        name="saleDate" formControlName="consultantProjectStartDate"
                                                        (focus)="consultantProjectStartDatePicker.open()"
                                                        (click)="consultantProjectStartDatePicker.open()" readonly>
                                                <mat-icon class="calendar-icon" matSuffix svgIcon="calendar"></mat-icon>
                                                <mat-datepicker #consultantProjectStartDatePicker></mat-datepicker>
                                            </mat-form-field>

                                            <mat-form-field appearance="outline" class="formFieldNoMarginPadding u-mr--16" fxFlex="33%">
                                                <mat-label>End date</mat-label>
                                                <input autocomplete="off" placeholder="End date" matInput
                                                        [matDatepicker]="consultantProjectEndDatePicker"
                                                        name="saleDate" formControlName="consultantProjectEndDate"
                                                        (focus)="consultantProjectEndDatePicker.open()"
                                                        (click)="consultantProjectEndDatePicker.open()" readonly>
                                                <mat-icon class="calendar-icon" matSuffix svgIcon="calendar"></mat-icon>
                                                <mat-datepicker #consultantProjectEndDatePicker></mat-datepicker>
                                            </mat-form-field>

                                            <mat-checkbox color="accent" formControlName="consultantProjectNoEndDate" name="consultantProjectNoEndDate" class="green-checkbox u-mr--16">
                                                No end date
                                            </mat-checkbox>

                                            <mat-checkbox color="accent" formControlName="consultantProjectSameAsClientDuration" name="consultantProjectSameAsClientDuration" class="green-checkbox">
                                                Same as Client Project Duration
                                            </mat-checkbox>
                                        </div>
                                    </div>
                                </mat-expansion-panel>
                                <div fxLayout="row" fxLayoutAlign="center center" class="u-w--100">
                                    <button color="primary" class="button-outlined mat-elevation-z0 u-mt--10 u-mb--20" mat-raised-button (click)="addConsultantForm()">Add consultant</button>
                                </div>
                            </ng-container>
                        </form>
                        <mat-expansion-panel id="additionalData">
                            <mat-expansion-panel-header>
                                Additional data
                            </mat-expansion-panel-header>
                            <form [formGroup]="additionalDataForm" class="workflow-form--sales u-w--100">
                                <h2>Internal Notice, Contract Expires</h2>
                                <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select" fxFlex="33%">
                                        <mat-label>Notification</mat-label>
                                        <mat-select formControlName="notification" placeholder="Notification">
                                            <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                {{ item }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <h2>Project Category</h2>
                                <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="33%">
                                        <mat-label>Project Category</mat-label>
                                        <mat-select formControlName="projectCategory" placeholder="Project Category">
                                            <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                {{ item }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <h2>Project Description</h2>
                                <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding u-mr--16" fxFlex="100%">
                                        <mat-label>Project Description</mat-label>
                                        <textarea matInput autocomplete="new-password" name="projectDescription" formControlName="projectDescription">
                                        </textarea>
                                    </mat-form-field>
                                </div>

                                <h2>Workplace</h2>
                                <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="33%">
                                        <mat-label>Project</mat-label>
                                        <mat-select formControlName="workplace" placeholder="Project">
                                            <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                {{ item }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <h2>Expected Workload</h2>
                                <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 mat-elevation-z0 formFieldNoMarginPadding u-mr--16" fxFlex="33%">
                                        <mat-label>Hours</mat-label>
                                        <input autocomplete="off" matInput formControlName="expectedWorkloadHours" placeholder="Hours" type="text">
                                    </mat-form-field>

                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="33%">
                                        <mat-label>Period</mat-label>
                                        <mat-select formControlName="expectedWorkloadPeriod" placeholder="Period">
                                            <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                {{ item }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-checkbox color="accent" formControlName="expectedWorkloadNA" name="expectedWorkloadNA" class="green-checkbox">
                                        N / A
                                    </mat-checkbox>
                                </div>

                                <h2>Time Reporting</h2>
                                <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="33%">
                                        <mat-label>Cap</mat-label>
                                        <mat-select formControlName="timeReportingCap" placeholder="Cap">
                                            <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                {{ item }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-checkbox color="accent" formControlName="timeReportingNoCap" name="timeReportingNoCap" class="green-checkbox">
                                        No cap
                                    </mat-checkbox>
                                </div>

                                <h2>Margin</h2>
                                <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select" fxFlex="33%">
                                        <mat-label>High/Low Margin</mat-label>
                                        <mat-select formControlName="highLowMargin" placeholder="High/Low Margin">
                                            <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                {{ item }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <h2>Discounts</h2>
                                <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="33%">
                                        <mat-label>Discounts</mat-label>
                                        <mat-select formControlName="discounts" placeholder="Discounts">
                                            <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                {{ item }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-checkbox color="accent" formControlName="isDiscounts" name="isDiscounts" class="green-checkbox">
                                        None
                                    </mat-checkbox>
                                </div>

                                <h2>Fees</h2>
                                <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="33%">
                                        <mat-label>Fees</mat-label>
                                        <mat-select formControlName="fees" placeholder="Fees">
                                            <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                {{ item }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-checkbox color="accent" formControlName="isFees" name="isFees" class="green-checkbox">
                                        None
                                    </mat-checkbox>
                                </div>

                                <h2>Commision</h2>
                                <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="33%">
                                        <mat-label>Commision</mat-label>
                                        <mat-select formControlName="comission" placeholder="Commision">
                                            <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                                {{ item }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-checkbox color="accent" formControlName="isComission" name="isComission" class="green-checkbox">
                                        None
                                    </mat-checkbox>
                                </div>

                                <h2>Remarks</h2>
                                <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                                    <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding u-mr--16" fxFlex="0 0 calc(66% + 16px)">
                                        <mat-label>Remarks</mat-label>
                                        <textarea matInput autocomplete="new-password" name="remarks" formControlName="remarks">
                                        </textarea>
                                    </mat-form-field>

                                    <mat-checkbox color="accent" formControlName="isRemarks" name="isRemarks" class="green-checkbox u-mt--10">
                                        None
                                    </mat-checkbox>
                                </div>

                            </form>
                        </mat-expansion-panel>
                    </mat-accordion>
                </div>
            </ng-container>

            <ng-container *ngIf="selectedStep === 'Contracts'">
                <div class="u-mb--20 u-w--100 workflow-form--panel">
                    <app-workflow-sales></app-workflow-sales>
                </div>
            </ng-container>

            <ng-container *ngIf="selectedStep === 'Account'">
                <div class="workflow-panel u-w--100">
                    <div fxLayout="column" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                        <h2>Customer (debtor) created</h2>
                        <button color="primary" class="button-outlined mat-elevation-z0" mat-raised-button>No</button>
                    </div>
                    <div fxLayout="column" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                        <h2>Sub contractor (creditor) created</h2>
                        <button color="primary" class="button-outlined mat-elevation-z0" mat-raised-button>Yes</button>
                    </div>
                </div>
            </ng-container>

            <ng-container *ngIf="selectedStep === 'Whatsnext'">
                <div class="workflow-panel u-w--100">
                    <form [formGroup]="salesExtensionForm" class="u-w--100">
                        <h2 class="workflow-green--header">Add new</h2>
                        <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--20">
                            <div fxLayout="row" fxLayoutAlign="start start" fxFLex="40%">
                                <button mat-raised-button class="u-mr--16 u-w--100 workflow-company--btn" fxFlex="50%" (click)="addNewExtension()">
                                    Add new extension
                                </button>
                                <button mat-raised-button class="u-w--100 workflow-company--btn" fxFlex="50%"  (click)="addNewTermination()">
                                    Add new termination
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </ng-container>

            <ng-container *ngFor="let extension of getExtensionsCount(); let i = index;">
                <ng-container *ngIf="selectedStep === getExtensionSalesNameWithIndex(i + 1)">
                    <div class="workflow-panel u-w--100">
                        <form [formGroup]="salesExtensionForm" class="u-w--100">
                            <h2 class="workflow-green--header">Extension {{ i + 1 }}</h2>
                            <div formArrayName="salesExtension">
                                <div *ngFor="let item of salesExtension.controls; let i = index;" [formGroupName]="i" [hidden]="selectedIndex - 1 !== i">
                                    <div fxLayout="row" fxLayoutAlign="start center" class="u-w--100 u-mb--20">
                                        <mat-form-field appearance="outline" class="formFieldNoMarginPadding u-mr--16" fxFlex="33%">
                                            <mat-label>New end date</mat-label>
                                            <input autocomplete="off" placeholder="New end date" matInput
                                                    [matDatepicker]="extensionDatePicker"
                                                    name="saleDate" formControlName="extensionEndDate"
                                                    (focus)="extensionDatePicker.open()"
                                                    (click)="extensionDatePicker.open()" readonly>
                                            <mat-icon class="calendar-icon" matSuffix svgIcon="calendar"></mat-icon>
                                            <mat-datepicker #extensionDatePicker></mat-datepicker>
                                        </mat-form-field>

                                        <mat-checkbox color="accent" formControlName="noExtensionEndDate" name="noExtensionEndDate" class="green-checkbox u-mr--16">
                                            No end date
                                        </mat-checkbox>
                                    </div>
                                    <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                                        <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding u-mr--16" fxFlex="0 0 calc(66% + 16px)">
                                            <mat-label>WF Information</mat-label>
                                            <textarea matInput autocomplete="new-password" name="workflowInformation" formControlName="workflowInformation">
                                            </textarea>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </ng-container>
            </ng-container>

            <ng-container *ngFor="let extension of getExtensionsCount(); let i = index;">
                <ng-container *ngIf="selectedStep === getExtensionContractsNameWithIndex(i + 1)">
                    <div class="workflow-panel u-w--100">
                        Extension contract step {{i + 1}}
                    </div>
                </ng-container>
            </ng-container>

            <ng-container *ngIf="selectedStep === 'TerminationSales'">
                <div class="workflow-panel u-w--100">
                    <h2 class="workflow-green--header">Termination</h2>
                    <form [formGroup]="terminationSalesForm" class="u-w--100">
                        <h2>Cause</h2>
                        <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                            <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select" fxFlex="33%">
                                <mat-label>Cause</mat-label>
                                <mat-select formControlName="cause" placeholder="Cause">
                                    <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                        {{ item }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <h2>Comments</h2>
                        <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                            <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding u-mr--16" fxFlex="0 0 calc(66% + 16px)">
                                <mat-label>WF Information</mat-label>
                                <textarea matInput autocomplete="new-password" name="comments" formControlName="comments">
                                </textarea>
                            </mat-form-field>
                        </div>
                        <h2>Final Evaluation Reference Persons</h2>
                        <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                            <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select u-mr--16" fxFlex="33%">
                                <mat-label>Client Evaluation - Consultant</mat-label>
                                <mat-select formControlName="clientEvaluationConsultant" placeholder="Client Evaluation - Consultant">
                                    <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                        {{ item }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <mat-form-field appearance="outline" class="u-w--100 formFieldNoMarginPadding filter-select" fxFlex="33%">
                                <mat-label>Client Evaluation - ProData</mat-label>
                                <mat-select formControlName="clientEvaluationProData" placeholder="Client Evaluation - ProData">
                                    <mat-option *ngFor="let item of [0,1,2,3]" [value]="item">
                                        {{ item }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <h2>Contract ended</h2>
                        <div fxLayout="row" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                            <mat-form-field appearance="outline" class="formFieldNoMarginPadding" fxFlex="33%">
                                <mat-label>End date</mat-label>
                                <input autocomplete="off" placeholder="End date" matInput
                                        [matDatepicker]="terminationSalesDatePicker"
                                        name="saleDate" formControlName="endDate"
                                        (focus)="terminationSalesDatePicker.open()"
                                        (click)="terminationSalesDatePicker.open()" readonly>
                                <mat-icon class="calendar-icon" matSuffix svgIcon="calendar"></mat-icon>
                                <mat-datepicker #terminationSalesDatePicker></mat-datepicker>
                            </mat-form-field>
                        </div>
                    </form>
                </div>
            </ng-container>

            <ng-container *ngIf="selectedStep === 'TerminationContracts'">
                <div class="workflow-panel u-w--100">
                    Termination Contracts step
                </div>
            </ng-container>

            <ng-container *ngIf="selectedStep === 'CVupdate'">
                <div class="workflow-panel u-w--100">
                    <div fxLayout="column" fxLayoutAlign="start start" class="u-w--100 u-mb--20">
                        <h2>CV Update</h2>
                        <button color="primary" class="button-outlined mat-elevation-z0" mat-raised-button>Yes</button>
                    </div>
                </div>
            </ng-container>

            <ng-container *ngIf="selectedStep === 'ChangeinWFData'">
                <div class="workflow-panel u-w--100">
                    Change in WF Data Step
                </div>
            </ng-container>
        </div>
    </div>
</div>
